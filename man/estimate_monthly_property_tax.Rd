% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_mortgages.R
\name{estimate_monthly_property_tax}
\alias{estimate_monthly_property_tax}
\title{Estimate Monthly Property Tax Based on Affordability}
\usage{
estimate_monthly_property_tax(
  monthly_housing_budget,
  monthly_non_mortgage_costs = 0,
  rate_per_month,
  n_payments_total,
  prop_tax_rate_annual,
  down_payment_pct = 20
)
}
\arguments{
\item{monthly_housing_budget}{Numeric. The total maximum amount available
for all housing costs per month.}

\item{monthly_non_mortgage_costs}{Numeric. The sum of fixed monthly costs
excluding mortgage P&I and property taxes (e.g., home insurance,
HOA dues, other fixed monthly fees). Defaults to 0.}

\item{rate_per_month}{Numeric. The interest rate per month (e.g., annual
rate / 12 / 100). Must be non-negative.}

\item{n_payments_total}{Integer. The total number of payments over the
life of the loan (e.g., 360 for 30 years). Must be positive.}

\item{prop_tax_rate_annual}{Numeric. Estimated annual property tax rate as a
percentage of home value (e.g., 1.2 for 1.2\%). Must be non-negative.}

\item{down_payment_pct}{Numeric. The down payment as a percentage of the
home price (e.g., 20 for 20\%). Must be between 0 (inclusive) and 100 (exclusive).
Defaults to 20.}
}
\value{
Numeric. The estimated monthly property tax. Returns 0 if the
  calculated affordable principal is zero or less, or if the
  \code{prop_tax_rate_annual} is zero.
}
\description{
Calculates an estimated monthly property tax amount. This is done by first
determining the affordable loan principal using \code{compute_affordable_principal},
then estimating the corresponding home value based on the down payment,
and finally calculating the monthly tax based on the annual property tax rate.
}
\examples{
# Example using the same inputs as Example 2 for compute_affordable_principal
# Expected principal was ~303637. Expected home price ~379546.
# Expected monthly tax = (379546 * 0.012) / 12 = 379.55
estimate_monthly_property_tax(monthly_housing_budget = 2500,
                             monthly_non_mortgage_costs = 300,
                             rate_per_month = 0.06 / 12,
                             n_payments_total = 360,
                             prop_tax_rate_annual = 1.2,
                             down_payment_pct = 20)

# Example with zero tax rate
estimate_monthly_property_tax(monthly_housing_budget = 2500,
                             monthly_non_mortgage_costs = 300,
                             rate_per_month = 0.06 / 12,
                             n_payments_total = 360,
                             prop_tax_rate_annual = 0,
                             down_payment_pct = 20) # Should be 0

# Example where principal would be 0
estimate_monthly_property_tax(monthly_housing_budget = 300,
                             monthly_non_mortgage_costs = 300,
                             rate_per_month = 0.06 / 12,
                             n_payments_total = 360,
                             prop_tax_rate_annual = 1.0,
                             down_payment_pct = 20) # Should be 0
}
